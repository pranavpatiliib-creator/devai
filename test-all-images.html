<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Image Test - All Types</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .test-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .test-card h2 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .image-preview {
            width: 100%;
            height: 200px;
            object-fit: contain;
            margin: 15px 0;
            border-radius: 8px;
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
        }

        .status {
            padding: 12px;
            border-radius: 6px;
            margin-top: 15px;
            font-weight: bold;
            text-align: center;
        }

        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status.loading {
            background: #cfe2ff;
            color: #084298;
            border: 1px solid #b6d4fe;
        }

        .path-info {
            background: #f0f0f0;
            padding: 10px;
            border-left: 4px solid #667eea;
            margin: 10px 0;
            font-family: monospace;
            font-size: 0.9em;
            word-break: break-all;
        }

        .info-text {
            color: #666;
            font-size: 0.9em;
            margin: 10px 0;
        }

        .page-info {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .page-info h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .page-info p {
            color: #666;
            margin: 5px 0;
            font-family: monospace;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>ğŸ–¼ï¸ Image Loading Test Suite</h1>

        <div class="page-info">
            <h3>Current Page Information</h3>
            <p><strong>URL:</strong> <span id="url"></span></p>
            <p><strong>Path:</strong> <span id="path"></span></p>
            <p><strong>Location Type:</strong> <span id="locType"></span></p>
            <p><strong>Image Path Prefix:</strong> <span id="prefix"></span></p>
        </div>

        <div class="test-grid">
            <!-- Logo Test -->
            <div class="test-card">
                <h2>ğŸ“Œ Logo Image</h2>
                <p class="info-text">Used in header and preloader</p>
                <img id="logoImg" class="image-preview" alt="Loading...">
                <div class="path-info" id="logoPath">images/logo_transparent.png</div>
                <div id="logoStatus" class="status loading">ğŸ”„ Testing...</div>
            </div>

            <!-- Owner Photo Test -->
            <div class="test-card">
                <h2>ğŸ‘¤ Owner Photo</h2>
                <p class="info-text">Sagar Ambalal Chaudhari</p>
                <img id="ownerImg" class="image-preview" alt="Loading...">
                <div class="path-info" id="ownerPath">images/owner.jpeg</div>
                <div id="ownerStatus" class="status loading">ğŸ”„ Testing...</div>
            </div>

            <!-- Product Sample Test -->
            <div class="test-card">
                <h2>âš™ï¸ Product Sample</h2>
                <p class="info-text">Example: ACB Air Circuit Breaker</p>
                <img id="productImg" class="image-preview" alt="Loading...">
                <div class="path-info" id="productPath">images/products/acb_air_circuit_breaker.png</div>
                <div id="productStatus" class="status loading">ğŸ”„ Testing...</div>
            </div>

            <!-- Manufacturer Sample Test -->
            <div class="test-card">
                <h2>ğŸ­ Manufacturer Logo</h2>
                <p class="info-text">Example: ABB Brand Logo</p>
                <img id="manufacturerImg" class="image-preview" alt="Loading...">
                <div class="path-info" id="manufacturerPath">images/manufacturers/ABB.png</div>
                <div id="manufacturerStatus" class="status loading">ğŸ”„ Testing...</div>
            </div>

            <!-- Component Fetch Test -->
            <div class="test-card">
                <h2>ğŸ“¦ Component Loading</h2>
                <p class="info-text">Tests if components can be fetched</p>
                <div id="componentTest" class="status loading">ğŸ”„ Testing...</div>
            </div>

            <!-- Summary -->
            <div class="test-card">
                <h2>ğŸ“Š Test Summary</h2>
                <div id="summary" class="status loading">ğŸ”„ Running tests...</div>
            </div>
        </div>
    </div>

    <script>
        // Update page info
        document.getElementById('url').textContent = window.location.href;
        document.getElementById('path').textContent = window.location.pathname;

        const isInSubdirectory = window.location.pathname.includes('/categories/') ||
            window.location.pathname.includes('/products/');
        const imagePath = isInSubdirectory ? '../' : '';

        document.getElementById('locType').textContent = isInSubdirectory ? 'ğŸ“ Subdirectory (categories)' : 'ğŸ  Root Directory';
        document.getElementById('prefix').textContent = imagePath || '(empty - root level)';

        let testResults = {
            logo: false,
            owner: false,
            product: false,
            manufacturer: false,
            component: false
        };

        function testImage(imgId, statusId, pathId, imageName, dataPath) {
            const img = document.getElementById(imgId);
            const status = document.getElementById(statusId);
            const pathEl = document.getElementById(pathId);

            const fullPath = imagePath + dataPath;
            pathEl.textContent = fullPath;

            img.onload = function () {
                status.className = 'status success';
                status.innerHTML = 'âœ“ Image loaded successfully!';
                testResults[imageName] = true;
                updateSummary();
            };

            img.onerror = function () {
                status.className = 'status error';
                status.innerHTML = `âœ— Failed to load from: ${fullPath}`;
                testResults[imageName] = false;
                updateSummary();
            };

            img.src = fullPath;
        }

        // Test all images
        testImage('logoImg', 'logoStatus', 'logoPath', 'logo', 'images/logo_transparent.png');
        testImage('ownerImg', 'ownerStatus', 'ownerPath', 'owner', 'images/owner.jpeg');
        testImage('productImg', 'productStatus', 'productPath', 'product', 'images/products/acb_air_circuit_breaker.png');
        testImage('manufacturerImg', 'manufacturerStatus', 'manufacturerPath', 'manufacturer', 'images/manufacturers/ABB.png');

        // Test component fetching
        fetch(`${imagePath}components/header.html`)
            .then(response => {
                const el = document.getElementById('componentTest');
                if (response.ok) {
                    el.className = 'status success';
                    el.innerHTML = 'âœ“ Components can be loaded!';
                    testResults.component = true;
                } else {
                    throw new Error('Failed');
                }
                updateSummary();
            })
            .catch(error => {
                const el = document.getElementById('componentTest');
                el.className = 'status error';
                el.innerHTML = `âœ— Failed to fetch component`;
                testResults.component = false;
                updateSummary();
            });

        function updateSummary() {
            const total = Object.keys(testResults).length;
            const passed = Object.values(testResults).filter(v => v === true).length;
            const summary = document.getElementById('summary');

            if (passed === total) {
                summary.className = 'status success';
                summary.innerHTML = `âœ“ All ${total} tests passed!<br><small>All images are loading correctly</small>`;
            } else if (passed > 0) {
                summary.className = 'status error';
                summary.innerHTML = `âš  ${passed}/${total} tests passed<br><small>Some images failed to load</small>`;
            } else {
                summary.className = 'status loading';
                summary.innerHTML = `ğŸ”„ Testing in progress...`;
            }
        }

        // Initial summary update
        setTimeout(updateSummary, 100);
    </script>
</body>

</html>